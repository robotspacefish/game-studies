pico-8 cartridge // http://www.pico-8.com
version 27
__lua__
function _init()
  DIMENSION=128
  x=DIMENSION/2-4
  y=DIMENSION/2-4
  p_spr=1
  p_flip=false
  vx=0
  vy=0
  speed=2
end

function _update()
  -- reset (stop moving)
  vx=0
  vy=0

  --controls
  if (btn(⬅️)) then
    p_spr=3
    p_flip=true
    x -= speed
    y+=align(y, 8)
  end
  if (btn(➡️)) then
    p_spr=3
    p_flip=false
    x += speed
    y+=align(y, 8)
  end
  if (btn(⬆️)) then
    p_spr=2
    p_flip=false
    y-=speed
    x+= align(x, 8)
  end
  if (btn(⬇️)) then
    p_spr=1
    p_flip=false
    y+=speed
    x+= align(x, 8)
  end

  --if run off screen warp to other side
  if (x>128) then x=-8 end
  if (x<-8) then x=128 end
  if (y<-8) then y=72 end
  if (y>72) then y=-8 end

end

function _draw()
  cls()
  map(0, 0, 0,0,16,16)
  spr(p_spr,x,y, 1, 1, p_flip)

  --display info
  print("x="..x.." y="..y,0,80)
  -- print("vx="..vx.." vy="..vy,0,88)
end

function align(val, alignTo)
  local diff = val % alignTo
  local halfway = (alignTo)/2

  if (diff > halfway) then
    return alignTo-diff
  else
    return -diff
  end

end

__gfx__
00000000000000000000000000000000111111104044044044044044111111111111111177777775777777700000000000000000000000000000000000000000
000000000555555005555550055555001111111040000000000000001111117ccc111111666666d576666660000000c88c000000000000c88c00000000000000
0070070005c77c50055555500555c700111111100000000000000004111717777ccc1111666666d57666666000000cccccc0000000000cccccc0000000000000
000770000559955005555550055559901111111040000000000000041117c777777cc11155555555555555500000cccccccc00000000cccccccc000000000000
000770000555555005555550055555001111111040000000000000001177777777cccc1177757777777577700000c688886c00000000cc1ccccc000000000000
00700700057777500555555005557700111111100000000000000004117777c777ccc11166d5766666d576600000c666666c00000000ccccccdc000000000000
000000005577775055577550555577001111111040000000000000041777c7777777cc1166d5766666d576600006cccccccc60000006cccccc1c600000000000
0000000000900900009009000040900000000000400000000000000017777777777c7c1155555555555555500006c161616c60000006cccdcccc600000000000
000000000000000000000000000000000000000000000000000000041177777c777ccc1177777577777775700056c616161c65000056ccdcccdc650000000000
00555000005550000000000000000000000000004000000000000004177777777cccc1116666d5766666d5700050cccccccc05000050ccccc1cc050000000000
005c700000c7500000000000000000000000000040000000000000001777777777c7c1116666d5766666d57000c00cccccc00c0000c00cccccc00c0000000000
00559900099550000000000000000000000000000000000000000004177c777cccccc111555555555555555000c0005555000c0000c0005555000c0000000000
005550000055500000000000000000000000000040000000000000041177777ccccc11117577777775777770020200d22d002020020200d55d00202000000000
00577000007750000000000000000000000000004000000000000000111c7777cc7cccc1d5766666d5766660000000cccc000000000000cccc00000000000000
0557700000775500000000000000000000000000000000000000000411cccccccccccc11d5766666d576666000000cccccc0000000000cccccc0000000000000
00409000009040000000000000000000000000004404404404404404111111111111111100000000000000000000001001000000000000100100000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000cc880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000cccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001ccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000cccccc6800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000cccccc6600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000cccccccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000ccc6cc1600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000ccc6cc6100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001cc5cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000001c5ccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000015110020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000015cccc00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000011110020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000cccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000001100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000001010101000000000000000000000000010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
090a050605060506050605060506050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
191a151615161516151615161516151600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090a050605060506050605060506050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
191a151615161516151615161516151600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090a050605060506050605060506050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
191a151615161516151615161516151600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
090a050607080506070805060708050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
191a151617181516171815161718151600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0506050605060506050605060506050600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1516151615161516151615161516151600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
